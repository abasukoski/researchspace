@prefix ns1: <http://www.researchspace.org/resource/system/fields/> .
@prefix ns2: <http://spinrdf.org/sp#> .
@prefix ns3: <http://www.w3.org/ns/ldp#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://www.researchspace.org/pattern/system/activity/had_general_purpose_type/context> {
    <http://www.researchspace.org/resource/system/fieldDefinitionContainer> ns3:contains <http://www.researchspace.org/pattern/system/activity/had_general_purpose_type> .

    <http://www.researchspace.org/bnode/n728a6914e75e40f4954cec28dc39bf9ab1> a ns2:Query ;
        ns2:text """SELECT DISTINCT ?value ?label WHERE {
  ?value a ?ontologyClass .
  ?ontologyClass rdfs:subClassOf* crm:E55_Type .
  ?value skos:prefLabel ?label .
} ORDER BY ASC(lcase(?label))""" .

    <http://www.researchspace.org/bnode/n728a6914e75e40f4954cec28dc39bf9ab2> a ns2:Query ;
        ns2:text """DELETE {
	$subject crm:P21_had_general_purpose $value . 
    $value crm:P21i_was_purpose_of $subject .
} WHERE {
	$subject crm:P21_had_general_purpose $value . 
    $value crm:P21i_was_purpose_of $subject .
}""" .

    <http://www.researchspace.org/bnode/n728a6914e75e40f4954cec28dc39bf9ab3> a ns2:Query ;
        ns2:text """SELECT DISTINCT ?value ?label WHERE {
  $subject crm:P21_had_general_purpose $value . 
      
  ?value a ?ontologyClass .
  ?ontologyClass rdfs:subClassOf* crm:E55_Type .
  ?value skos:prefLabel ?label .
}""" .

    <http://www.researchspace.org/bnode/n728a6914e75e40f4954cec28dc39bf9ab4> a ns2:Query ;
        ns2:text """SELECT DISTINCT ?value ?label WHERE {
  ?value a ?ontologyClass .
  ?ontologyClass rdfs:subClassOf* crm:E55_Type .
  ?value skos:prefLabel ?label .
  MINUS { ?value crm:P71i_is_listed_in|skos:inScheme ?systemAuthority . ?systemAuthority crm:P2_has_type Platform:System_Resource . }
  FILTER REGEX(LCASE(STR(?label)), "?token", "i")
} ORDER BY ASC(?label)
  LIMIT 10""" .

    <http://www.researchspace.org/bnode/n728a6914e75e40f4954cec28dc39bf9ab5> a ns2:Query ;
        ns2:text """INSERT { 
	$subject crm:P21_had_general_purpose $value . 
    $value crm:P21i_was_purpose_of $subject .
} WHERE {}""" .

    <http://www.researchspace.org/pattern/system/activity/had_general_purpose_type> a ns1:Field,
            ns3:Resource,
            prov:Entity ;
        rdfs:label "General purpose (type)" ;
        ns1:autosuggestionPattern <http://www.researchspace.org/bnode/n728a6914e75e40f4954cec28dc39bf9ab4> ;
        ns1:category <http://www.researchspace.org/resource/system/category/activity> ;
        ns1:deletePattern <http://www.researchspace.org/bnode/n728a6914e75e40f4954cec28dc39bf9ab2> ;
        ns1:domain <http://www.cidoc-crm.org/cidoc-crm/E7_Activity> ;
        ns1:insertPattern <http://www.researchspace.org/bnode/n728a6914e75e40f4954cec28dc39bf9ab5> ;
        ns1:maxOccurs "unbound" ;
        ns1:minOccurs "0" ;
        ns1:range <http://www.cidoc-crm.org/cidoc-crm/E55_Type> ;
        ns1:selectPattern <http://www.researchspace.org/bnode/n728a6914e75e40f4954cec28dc39bf9ab3> ;
        ns1:valueSetPattern <http://www.researchspace.org/bnode/n728a6914e75e40f4954cec28dc39bf9ab1> ;
        ns1:xsdDatatype xsd:anyURI ;
        rdfs:comment """Enter an intentional relationship between the activity and some general goal or purpose (defined as Type).
No occurrence of an event is implied as the purpose (in that case use Activity done in preparation of).""" ;
        prov:generatedAtTime "2024-04-18T14:19:17.161000+01:00"^^xsd:dateTime ;
        prov:wasAttributedTo <http://www.researchspace.org/resource/user/admin> .
}

