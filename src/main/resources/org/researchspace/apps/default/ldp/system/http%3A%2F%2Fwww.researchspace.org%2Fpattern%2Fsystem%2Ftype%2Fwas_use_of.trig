@prefix ns1: <http://www.researchspace.org/resource/system/fields/> .
@prefix ns2: <http://www.w3.org/ns/ldp#> .
@prefix ns3: <http://spinrdf.org/sp#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://www.researchspace.org/pattern/system/type/was_use_of/context> {
    <http://www.researchspace.org/resource/system/fieldDefinitionContainer> ns2:contains <http://www.researchspace.org/pattern/system/type/was_use_of> .

    <http://www.researchspace.org/bnode/n7e5dde81af744085baef4e2ab075a421b1> a ns3:Query ;
        ns3:text """INSERT { 
	$subject crm:P101i_was_use_of $value .
    $value crm:P101_had_as_general_use $subject .
} WHERE {}""" .

    <http://www.researchspace.org/bnode/n7e5dde81af744085baef4e2ab075a421b2> a ns3:Query ;
        ns3:text """SELECT DISTINCT ?value ?label WHERE {
  ?value a ?ontologyClass .
  ?ontologyClass rdfs:subClassOf* crm:E70_Thing .
  { 
    ?value crm:P1_is_identified_by ?appellation .
    ?appellation a crm:E41_Appellation .
    ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
    ?appellation crm:P190_has_symbolic_content ?label .
	} UNION {
      ?value skos:prefLabel ?label .
	} UNION {
      ?value crm:P190_has_symbolic_content ?label .
	}
  MINUS { ?value crm:P71i_is_listed_in|skos:inScheme ?systemAuthority . ?systemAuthority crm:P2_has_type Platform:System_Resource . }
  MINUS { ?systemAuthorityTerm crm:P1_is_identified_by ?value .
          ?systemAuthorityTerm crm:P71i_is_listed_in|skos:inScheme ?systemAuthorityDoc .
          ?systemAuthorityDoc crm:P2_has_type Platform:System_Resource .
        }
  FILTER REGEX(LCASE(STR(?label)), "?token", "i")
} ORDER BY ASC(?label) 
  LIMIT 10 """ .

    <http://www.researchspace.org/bnode/n7e5dde81af744085baef4e2ab075a421b3> a ns3:Query ;
        ns3:text """SELECT DISTINCT ?value ?label WHERE {
  ?value a ?ontologyClass .
  ?ontologyClass rdfs:subClassOf* crm:E70_Thing .
  { 
    ?value crm:P1_is_identified_by ?appellation .
    ?appellation a crm:E41_Appellation .
    ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
    ?appellation crm:P190_has_symbolic_content ?label .
	} UNION {
      ?value skos:prefLabel ?label .
	} UNION {
      ?value crm:P190_has_symbolic_content ?label .
	}
} ORDER BY ASC(LCASE(STR(?label)))""" .

    <http://www.researchspace.org/bnode/n7e5dde81af744085baef4e2ab075a421b4> a ns3:Query ;
        ns3:text """DELETE {
	  $subject crm:P101i_was_use_of $value .
    $value crm:P101_had_as_general_use $subject .
} WHERE {
	  $subject crm:P101i_was_use_of $value .
    $value crm:P101_had_as_general_use $subject .
      
    ?value a ?ontologyClass .
    ?ontologyClass rdfs:subClassOf* crm:E70_Thing .
    { 
      ?value crm:P1_is_identified_by ?appellation .
      ?appellation a crm:E41_Appellation .
      ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
      ?appellation crm:P190_has_symbolic_content ?label .
    } UNION {
      ?value skos:prefLabel ?label .
    } UNION {
      ?value crm:P190_has_symbolic_content ?label .
    }
}""" .

    <http://www.researchspace.org/bnode/n7e5dde81af744085baef4e2ab075a421b5> a ns3:Query ;
        ns3:text """SELECT DISTINCT ?value ?label WHERE {
	  $subject crm:P101i_was_use_of $value .
      
   	?value a ?ontologyClass .
    ?ontologyClass rdfs:subClassOf* crm:E70_Thing .
    { 
      ?value crm:P1_is_identified_by ?appellation .
      ?appellation a crm:E41_Appellation .
      ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
      ?appellation crm:P190_has_symbolic_content ?label .
    } UNION {
      ?value skos:prefLabel ?label .
    } UNION {
      ?value crm:P190_has_symbolic_content ?label .
    }
}""" .

    <http://www.researchspace.org/pattern/system/type/was_use_of> a ns1:Field,
            ns2:Resource,
            prov:Entity ;
        rdfs:label "Was use of" ;
        ns1:autosuggestionPattern <http://www.researchspace.org/bnode/n7e5dde81af744085baef4e2ab075a421b2> ;
        ns1:category <http://www.researchspace.org/resource/system/category/type> ;
        ns1:deletePattern <http://www.researchspace.org/bnode/n7e5dde81af744085baef4e2ab075a421b4> ;
        ns1:domain <http://www.cidoc-crm.org/cidoc-crm/E55_Type> ;
        ns1:insertPattern <http://www.researchspace.org/bnode/n7e5dde81af744085baef4e2ab075a421b1> ;
        ns1:maxOccurs "unbound" ;
        ns1:minOccurs "0" ;
        ns1:range <http://www.cidoc-crm.org/cidoc-crm/E70_Thing> ;
        ns1:selectPattern <http://www.researchspace.org/bnode/n7e5dde81af744085baef4e2ab075a421b5> ;
        ns1:valueSetPattern <http://www.researchspace.org/bnode/n7e5dde81af744085baef4e2ab075a421b3> ;
        ns1:xsdDatatype xsd:anyURI ;
        rdfs:comment "It allows the relationship between particular things, both physical and immaterial, and the general methods and techniques of real use to be documented. The use of this field is intended to allow the documentation of usage patterns attested in historical records or through scientific investigation (for instance ceramic residue analysis). It should not be used to document the intended, and thus assumed, use of an object." ;
        prov:generatedAtTime "2024-04-23T18:11:13.192000+01:00"^^xsd:dateTime ;
        prov:wasAttributedTo <http://www.researchspace.org/resource/user/admin> .
}

