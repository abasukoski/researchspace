@prefix ns1: <http://spinrdf.org/sp#> .
@prefix ns2: <http://www.researchspace.org/resource/system/fields/> .
@prefix ns3: <http://www.w3.org/ns/ldp#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://www.researchspace.org/pattern/system/material/use_foreseen_by/context> {
    <http://www.researchspace.org/resource/system/fieldDefinitionContainer> ns3:contains <http://www.researchspace.org/pattern/system/material/use_foreseen_by> .

    <http://www.researchspace.org/bnode/nf350b747646b4062b528ca2d8b883ae9b1> a ns1:Query ;
        ns1:text """SELECT DISTINCT ?value ?label WHERE {
  ?value a crm:E29_Design_or_Procedure .
  ?value crm:P1_is_identified_by ?appellation .
  ?appellation a crm:E41_Appellation .
  ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
  ?appellation crm:P190_has_symbolic_content ?label .
} ORDER BY ASC(LCASE(STR(?label)))""" .

    <http://www.researchspace.org/bnode/nf350b747646b4062b528ca2d8b883ae9b2> a ns1:Query ;
        ns1:text """SELECT DISTINCT ?value ?label WHERE {
  ?value a crm:E29_Design_or_Procedure .
  ?value crm:P1_is_identified_by ?appellation .
  ?appellation a crm:E41_Appellation .
  ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
  ?appellation crm:P190_has_symbolic_content ?label .
  MINUS { ?value crm:P71i_is_listed_in|skos:inScheme ?systemAuthority . ?systemAuthority crm:P2_has_type Platform:System_Resource . }
  FILTER REGEX(LCASE(STR(?label)), "?token", "i")
} ORDER BY ?label
  LIMIT 10""" .

    <http://www.researchspace.org/bnode/nf350b747646b4062b528ca2d8b883ae9b3> a ns1:Query ;
        ns1:text """INSERT { 
  $subject crm:P68i_use_foreseen_by $value . 
  $value crm:P68_foresees_use_of $subject .
} WHERE {}""" .

    <http://www.researchspace.org/bnode/nf350b747646b4062b528ca2d8b883ae9b4> a ns1:Query ;
        ns1:text """DELETE { 
  $subject crm:P68i_use_foreseen_by $value . 
  $value crm:P68_foresees_use_of $subject .
} WHERE {
  $subject crm:P68i_use_foreseen_by $value . 
  $value crm:P68_foresees_use_of $subject .
      
  ?value a crm:E29_Design_or_Procedure .
  ?value crm:P1_is_identified_by ?appellation .
  ?appellation a crm:E41_Appellation .
  ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
  ?appellation crm:P190_has_symbolic_content ?label .
}""" .

    <http://www.researchspace.org/bnode/nf350b747646b4062b528ca2d8b883ae9b5> a ns1:Query ;
        ns1:text """SELECT DISTINCT ?value ?label WHERE {
  $subject crm:P68i_use_foreseen_by $value . 
     
  ?value a crm:E29_Design_or_Procedure .
  ?value crm:P1_is_identified_by ?appellation .
  ?appellation a crm:E41_Appellation .
  ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
  ?appellation crm:P190_has_symbolic_content ?label .
} ORDER BY ASC(LCASE(STR(?label)))""" .

    <http://www.researchspace.org/pattern/system/material/use_foreseen_by> a ns2:Field,
            ns3:Resource,
            prov:Entity ;
        rdfs:label "Use foreseen by"@en ;
        ns2:autosuggestionPattern <http://www.researchspace.org/bnode/nf350b747646b4062b528ca2d8b883ae9b2> ;
        ns2:category <http://www.researchspace.org/resource/system/category/material> ;
        ns2:deletePattern <http://www.researchspace.org/bnode/nf350b747646b4062b528ca2d8b883ae9b4> ;
        ns2:domain <http://www.cidoc-crm.org/cidoc-crm/E57_Material> ;
        ns2:insertPattern <http://www.researchspace.org/bnode/nf350b747646b4062b528ca2d8b883ae9b3> ;
        ns2:maxOccurs "unbound" ;
        ns2:minOccurs "0" ;
        ns2:range <http://www.cidoc-crm.org/cidoc-crm/E29_Design_or_Procedure> ;
        ns2:selectPattern <http://www.researchspace.org/bnode/nf350b747646b4062b528ca2d8b883ae9b5> ;
        ns2:valueSetPattern <http://www.researchspace.org/bnode/nf350b747646b4062b528ca2d8b883ae9b1> ;
        ns2:xsdDatatype xsd:anyURI ;
        rdfs:comment """Designs and procedures commonly foresee the use of a particular material. The fabrication of adobe bricks, for example, requires straw, clay and water. This property enables this to be documented.
This property is not intended for the documentation of materials that were used on a particular occasion when a procedure was executed.""" ;
        prov:generatedAtTime "2024-04-23T19:39:47.917000+01:00"^^xsd:dateTime ;
        prov:wasAttributedTo <http://www.researchspace.org/resource/user/admin> .
}

