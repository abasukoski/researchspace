@prefix ns1: <http://spinrdf.org/sp#> .
@prefix ns2: <http://www.researchspace.org/resource/system/fields/> .
@prefix ns3: <http://www.w3.org/ns/ldp#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://www.researchspace.org/pattern/system/activity/had_specific_purpose_event/context> {
    <http://www.researchspace.org/resource/system/fieldDefinitionContainer> ns3:contains <http://www.researchspace.org/pattern/system/activity/had_specific_purpose_event> .

    <http://www.researchspace.org/bnode/n3fdd61270f93432f96dc3dcbeb725c93b1> a ns1:Query ;
        ns1:text """SELECT DISTINCT ?value ?label WHERE {
    ?value a ?ontologyClass .
    ?ontologyClass rdfs:subClassOf* crm:E5_Event .
    ?value crm:P1_is_identified_by ?appellation .
    ?appellation a crm:E41_Appellation .
    ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
     
    ?appellation crm:P190_has_symbolic_content ?label .
  MINUS { ?value crm:P71i_is_listed_in|skos:inScheme ?systemAuthority . ?systemAuthority crm:P2_has_type Platform:System_Resource . }
  FILTER REGEX(LCASE(STR(?label)), "?token", "i")
} ORDER BY ASC(?label)
  LIMIT 10""" .

    <http://www.researchspace.org/bnode/n3fdd61270f93432f96dc3dcbeb725c93b2> a ns1:Query ;
        ns1:text """SELECT DISTINCT ?value ?label WHERE {
	$subject crm:P20_had_specific_purpose $value . 
      
    ?value a ?ontologyClass .
    ?ontologyClass rdfs:subClassOf* crm:E5_Event .
    ?value crm:P1_is_identified_by ?appellation .
    ?appellation a crm:E41_Appellation .
    ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
     
    ?appellation crm:P190_has_symbolic_content ?label .
}""" .

    <http://www.researchspace.org/bnode/n3fdd61270f93432f96dc3dcbeb725c93b3> a ns1:Query ;
        ns1:text """DELETE {
	$subject crm:P20_had_specific_purpose $value . 
    $value crm:P20i_was_purpose_of $subject .
} WHERE {
	$subject crm:P20_had_specific_purpose $value . 
    $value crm:P20i_was_purpose_of $subject .
      
    ?value a ?ontologyClass .
    ?ontologyClass rdfs:subClassOf* crm:E5_Event .
    ?value crm:P1_is_identified_by ?appellation .
    ?appellation a crm:E41_Appellation .
    ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
     
    ?appellation crm:P190_has_symbolic_content ?label .
}""" .

    <http://www.researchspace.org/bnode/n3fdd61270f93432f96dc3dcbeb725c93b4> a ns1:Query ;
        ns1:text """INSERT { 
	$subject crm:P20_had_specific_purpose $value . 
    $value crm:P20i_was_purpose_of $subject .
} WHERE {}""" .

    <http://www.researchspace.org/bnode/n3fdd61270f93432f96dc3dcbeb725c93b5> a ns1:Query ;
        ns1:text """SELECT DISTINCT ?value ?label WHERE {
    ?value a ?ontologyClass .
    ?ontologyClass rdfs:subClassOf* crm:E5_Event .
    ?value crm:P1_is_identified_by ?appellation .
    ?appellation a crm:E41_Appellation .
    ?appellation crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/primary_appellation> . 
     
    ?appellation crm:P190_has_symbolic_content ?label .
} ORDER BY ASC(LCASE(STR(?label)))""" .

    <http://www.researchspace.org/pattern/system/activity/had_specific_purpose_event> a ns2:Field,
            ns3:Resource,
            prov:Entity ;
        rdfs:label "Done in preparation of" ;
        ns2:autosuggestionPattern <http://www.researchspace.org/bnode/n3fdd61270f93432f96dc3dcbeb725c93b1> ;
        ns2:category <http://www.researchspace.org/resource/system/category/activity> ;
        ns2:deletePattern <http://www.researchspace.org/bnode/n3fdd61270f93432f96dc3dcbeb725c93b3> ;
        ns2:domain <http://www.cidoc-crm.org/cidoc-crm/E7_Activity> ;
        ns2:insertPattern <http://www.researchspace.org/bnode/n3fdd61270f93432f96dc3dcbeb725c93b4> ;
        ns2:maxOccurs "unbound" ;
        ns2:minOccurs "0" ;
        ns2:range <http://www.cidoc-crm.org/cidoc-crm/E5_Event> ;
        ns2:selectPattern <http://www.researchspace.org/bnode/n3fdd61270f93432f96dc3dcbeb725c93b2> ;
        ns2:valueSetPattern <http://www.researchspace.org/bnode/n3fdd61270f93432f96dc3dcbeb725c93b5> ;
        ns2:xsdDatatype xsd:anyURI ;
        rdfs:comment """When the activity is done in preparation of other activities or events.
The activity must have succeeded in achieving its aim. If it does not succeed one may document the unrealised intention using the field had general purpose or used specific technique.""" ;
        prov:generatedAtTime "2024-04-03T14:49:26.580000+01:00"^^xsd:dateTime ;
        prov:wasAttributedTo <http://www.researchspace.org/resource/user/admin> .
}

